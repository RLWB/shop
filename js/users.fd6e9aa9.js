(window.webpackJsonp=window.webpackJsonp||[]).push([["users"],{"12ff":function(e,t,r){e.exports=function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,r,a){return n.fromToBase(e,t,r,a)}r.en.relativeTime=a,n.fromToBase=function(t,n,i,s,o){for(var l,u,c,d=i.$locale().relativeTime||a,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=m.length,h=0;h<f;h+=1){var p=m[h];p.d&&(l=s?r(t).diff(i,p.d,!0):i.diff(t,p.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(c=l>0,g<=p.r||!p.r){g<=1&&h>0&&(p=m[h-1]);var b=d[p.l];o&&(g=o(""+g)),u="string"==typeof b?b.replace("%d",g):b(g,n,p.l,c);break}}if(n)return u;var y=c?d.future:d.past;return"function"==typeof y?y(u):y.replace("%s",u)},n.to=function(e,t){return i(e,t,this,!0)},n.from=function(e,t){return i(e,t,this)};var s=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(s(this),e)},n.fromNow=function(e){return this.from(s(this),e)}}}()},14726:function(e,t,r){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",a="day",i="week",s="month",o="quarter",l="year",u="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,s),i=r-a<0,o=t.clone().add(n+(i?-1:1),s);return+(-(n+(r-a)/(i?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:s,y:l,w:i,d:a,D:u,h:n,m:r,s:t,ms:e,Q:o}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},p="en",g={};g[p]=m;var b=function(e){return e instanceof _},y=function(e,t,r){var n;if(!e)return p;if("string"==typeof e)g[e]&&(n=e),t&&(g[e]=t,n=e);else{var a=e.name;g[a]=e,n=a}return!r&&n&&(p=n),n||!r&&p},$=function(e,t){if(b(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},v=h;v.l=y,v.i=b,v.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=y(e.locale,null,!0),this.parse(e)}var f=m.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return v},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(e,t){var r=$(e);return this.startOf(t)<=r&&r<=this.endOf(t)},f.isAfter=function(e,t){return $(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<$(e)},f.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,o){var c=this,d=!!v.u(o)||o,m=v.p(e),f=function(e,t){var r=v.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return d?r:r.endOf(a)},h=function(e,t){return v.w(c.toDate()[e].apply(c.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},p=this.$W,g=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(m){case l:return d?f(1,0):f(31,11);case s:return d?f(1,g):f(0,g+1);case i:var $=this.$locale().weekStart||0,_=(p<$?p+7:p)-$;return f(d?b-_:b+(6-_),g);case a:case u:return h(y+"Hours",0);case n:return h(y+"Minutes",1);case r:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(i,o){var c,d=v.p(i),m="set"+(this.$u?"UTC":""),f=(c={},c[a]=m+"Date",c[u]=m+"Date",c[s]=m+"Month",c[l]=m+"FullYear",c[n]=m+"Hours",c[r]=m+"Minutes",c[t]=m+"Seconds",c[e]=m+"Milliseconds",c)[d],h=d===a?this.$D+(o-this.$W):o;if(d===s||d===l){var p=this.clone().set(u,1);p.$d[f](h),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[v.p(e)]()},f.add=function(e,o){var u,c=this;e=Number(e);var d=v.p(o),m=function(t){var r=$(c);return v.w(r.date(r.date()+Math.round(t*e)),c)};if(d===s)return this.set(s,this.$M+e);if(d===l)return this.set(l,this.$y+e);if(d===a)return m(1);if(d===i)return m(7);var f=(u={},u[r]=6e4,u[n]=36e5,u[t]=1e3,u)[d]||1,h=this.$d.getTime()+e*f;return v.w(h,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=v.z(this),a=this.$locale(),i=this.$H,s=this.$m,o=this.$M,l=a.weekdays,u=a.months,c=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].substr(0,i)},m=function(e){return v.s(i%12||12,e,"0")},f=a.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:v.s(o+1,2,"0"),MMM:c(a.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:c(a.weekdaysMin,this.$W,l,2),ddd:c(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:v.s(i,2,"0"),h:m(1),hh:m(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:v.s(s,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:n};return r.replace(d,(function(e,t){return t||h[e]||n.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,u,c){var d,m=v.p(u),f=$(e),h=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,g=v.m(this,f);return g=(d={},d[l]=g/12,d[s]=g,d[o]=g/3,d[i]=(p-h)/6048e5,d[a]=(p-h)/864e5,d[n]=p/36e5,d[r]=p/6e4,d[t]=p/1e3,d)[m]||p,c?g:v.a(g)},f.daysInMonth=function(){return this.endOf(s).$D},f.$locale=function(){return g[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=y(e,t,!0);return n&&(r.$L=n),r},f.clone=function(){return v.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},m}(),w=_.prototype;return $.prototype=w,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W",a],["$M",s],["$y",l],["$D",u]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),$.extend=function(e,t){return e.$i||(e(t,_,$),e.$i=!0),$},$.locale=y,$.isDayjs=b,$.unix=function(e){return $(1e3*e)},$.en=g[p],$.Ls=g,$.p={},$}()},"1b62":function(e,t,r){"use strict";t.a={created:function(){console.log("Hello Mixin!")}}},e7f4:function(e,t,r){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){switch(t){case"W":return e+"周";default:return e+"日"}},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1100?"上午":r<1300?"中午":r<1800?"下午":"晚上"}};return e.locale(t,null,!0),t}(r("14726"))},ed81:function(e,t,r){"use strict";r.r(t);var n=r("efe2"),a=r("4833"),i=(r("6dbb"),r("e0e8"),r("9113"),r("5c04"),r("6a61"),r("14726")),s=r.n(i),o=r("12ff"),l=r.n(o),u=(r("e7f4"),r("7c98"),r("1b62"));s.a.extend(l.a);var c={mixins:[u.a],data:function(){return{breadcrumbs:[{title:"首页",name:"Home"},{title:"用户管理"},{title:"用户列表"}],searchForm:{query:""},obj:null,params:{query:"",pagenum:1,pagesize:2},loading:!0,addDialog:!1,addForm:{username:"",password:"",email:"",mobile:""},addRules:null,formLabelWidth:"120px",roleDialog:!1,roleForm:{username:"",id:"",rid:"",roles:[]},json_fields:{"角色名称":"role_name"}}},methods:{getUsers:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$apis.getUsers(e.params);case 4:r=t.sent,e.obj=r,e.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},sizeChange:function(e){this.params.pagesize=e,this.$router.replace({name:this.$route.name,query:Object(n.a)(Object(n.a)({},this.$route.query),{},{pagesize:e})}),this.getUsers()},currentChange:function(e){this.params.pagenum=e,this.$router.replace({name:this.$route.name,query:Object(n.a)(Object(n.a)({},this.$route.query),{},{pagenum:e})}),this.getUsers()},handleIndex:function(e){return(this.params.pagenum-1)*this.params.pagesize+e+1},search:function(){this.$router.replace({query:Object(n.a)(Object(n.a)({},this.$route.query),{},{query:this.searchForm.query,pagenum:1}),name:this.$route.name}),this.params=Object(n.a)(Object(n.a)(Object(n.a)({},this.params),this.searchForm),{},{pagenum:1}),this.getUsers()},handleSwitchChange:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.id,a=e.mg_state,r.next=3,t.$apis.updateState({id:n,mg_state:a});case 3:t.getUsers();case 4:case"end":return r.stop()}}),r)})))()},showRoleDialog:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.roleForm.username=e.username,t.roleForm.id=e.id,r.next=4,t.$apis.getUserInfo(e.id);case 4:return n=r.sent,r.next=7,t.$apis.getRoles();case 7:a=r.sent,t.roleForm.rid=n.rid,t.roleForm.roles=a,t.roleDialog=!0;case 11:case"end":return r.stop()}}),r)})))()},editRole:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apis.editRole(e.roleForm);case 2:e.roleDialog=!1;case 3:case"end":return t.stop()}}),t)})))()}},filters:{dealDate:function(e){return s()().locale("zh-cn").to(s()(e))}},created:function(){var e=this.$route.query,t=e.query,r=e.pagenum,n=e.pagesize;this.params=Object.assign(this.params,{query:t||"",pagesize:n?Number(n):2,pagenum:r?Number(r):1}),this.searchForm=Object.assign(this.searchForm,{query:t}),this.getUsers()}},d=r("4ac2"),m=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.obj?r("div",{staticClass:"users"},[r("AdminBreadcrumb",{attrs:{breadcrumbs:e.breadcrumbs}}),r("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:e.searchForm,"label-width":"80px",inline:""},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchForm.query,callback:function(t){e.$set(e.searchForm,"query",t)},expression:"searchForm.query"}},[r("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialog=!0}}},[e._v("添加用户")])],1),r("el-form-item",[r("download-excel",{attrs:{data:e.obj.users,name:"filename.xls",fields:e.json_fields}},[r("el-button",{attrs:{type:"primary"}},[e._v("导出用户")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-background":"rgba(255, 255, 255, 1)","element-loading-text":"正在加载中",data:e.obj.users,border:""}},[r("el-table-column",{attrs:{type:"index",index:e.handleIndex}}),r("el-table-column",{attrs:{prop:"username",label:"姓名",width:"180"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),r("el-table-column",{attrs:{label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("dealDate")(t.row.create_time))+" ")]}}],null,!1,3627082770)}),r("el-table-column",{attrs:{label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return e.handleSwitchChange(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}],null,!1,2842968011)}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-edit",size:"small"}}),r("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"small"},on:{click:function(r){return e.showRoleDialog(t.row)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"}})]}}],null,!1,3027374321)})],1),r("el-pagination",{attrs:{"page-sizes":[1,2,5,10],"page-size":e.params.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.obj.total,"current-page":e.params.pagenum},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}),r("Page",{attrs:{total:e.obj.total,current:e.params.pagenum,"page-size-opts":[1,2,5,10],"page-size":e.params.pagesize,size:"small","show-elevator":"","show-sizer":"","show-total":""},on:{"on-page-size-change":e.sizeChange,"on-change":e.currentChange}}),r("el-dialog",{attrs:{title:"新增用户",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[r("el-form",{attrs:{model:e.addForm,rules:e.addRules}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"username"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),r("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),r("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth,prop:"mobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",t)},expression:"addForm.mobile"}})],1),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialog=!1}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.roleDialog},on:{"update:visible":function(t){e.roleDialog=t}}},[r("el-form",{attrs:{model:e.roleForm,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{disabled:""},model:{value:e.roleForm.username,callback:function(t){e.$set(e.roleForm,"username",t)},expression:"roleForm.username"}})],1),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.roleForm.rid,callback:function(t){e.$set(e.roleForm,"rid",t)},expression:"roleForm.rid"}},[r("el-option",{attrs:{label:"请选择",value:-1}}),e._l(e.roleForm.roles,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],2)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.roleDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("确 定")])],1)],1)],1):e._e()}),[],!1,null,"bfa75f32",null);t.default=m.exports}}]);